# AI-First Docs v2.0 - Complete Restructure Plan

**Created**: October 25, 2025
**Status**: Planning → Implementation
**Goal**: Minimal, Claude Ecosystem-native template with future features documented separately

---

## Core Principle

Create a **minimal, Claude Ecosystem-native template** that is production-ready NOW, while documenting future enhancements separately.

---

## PART 1: v2.0 IMPLEMENTATION (What We're Building Now)

### A. Repository Structure (Clean & Simple)

```
ai-first-docs/                          # Template repository
├── README.md                           # TEMPLATE METACONTENT (about the template)
├── USER_README.md                      # GENERATED REPO CONTENT (becomes README.md)
├── .mcp-config.json.template          # Becomes .mcp-config.json (basic docroot only)
├── CLAUDE.md.template                 # Becomes CLAUDE.md (optional)
├── LICENSE.md                         # Standard MIT
├── .gitignore                         # Minimal (no node_modules)
│
├── docs/                              # Documentation root (docroot)
│   ├── policies/                      # Empty with .gitkeep
│   ├── procedures/                    # Empty with .gitkeep
│   ├── guides/                        # Empty with .gitkeep
│   ├── architecture/                  # Empty with .gitkeep
│   ├── references/                    # Empty with .gitkeep
│   ├── skills/                        # NEW: Skills docs
│   │   └── README.md.template
│   ├── cheatsheets/                   # Empty with .gitkeep
│   ├── prompts/                       # Empty with .gitkeep
│   └── templates/                     # Simple markdown templates (NO frontmatter yet)
│       ├── README.md
│       ├── policy-template.md         # Basic structure only
│       ├── procedure-template.md      # Basic structure only
│       └── guide-template.md          # Basic structure only
│
└── .github/
    ├── workflows/
    │   └── init-template.yml          # Updated (NO npm steps)
    │
    └── DOCUMENTATION/
        ├── claude-ecosystem-setup.md.template    # MCP + Skills setup
        ├── ai-first-strategy.md.template         # Updated philosophy
        │
        └── future-features/                      # NEW: Document ideas for future
            ├── README.md                         # Index of planned features
            ├── ai-metadata-frontmatter.md        # Full frontmatter spec
            ├── auto-summary-generation.md        # MCP v3.1+ feature
            ├── semantic-markers.md               # AI comment directives
            └── metadata-catalog-integration.md   # Enhanced catalog API
```

### B. What Gets REMOVED (vs Current)

**Complete removal (no replacement):**
- ❌ `package.json` + `package-lock.json` + `node_modules/`
- ❌ ALL npm scripts and dependencies
- ❌ Validation tooling (markdownlint, cspell, markdown-link-check)
- ❌ Build infrastructure (pandoc, MkDocs configs)
- ❌ `config/` directory
- ❌ `.github/workflows/validate.yml`
- ❌ `.github/workflows/repository-health.yml`
- ❌ `scripts/init-repo.js` (manual init not needed)
- ❌ Old example policies (vacation, pets, etc.)

**Why remove validation?**
- Trust AI + human review model
- Reduce template complexity
- Faster setup, fewer dependencies
- Users can add their own tooling if desired

### C. Key Files Content (v2.0 - Simple Version)

#### 1. `.mcp-config.json.template`

```json
{
  "mcp": {
    "docroot": "docs",
    "include_extensions": [".md", ".txt", ".pdf"]
  },
  "ecosystem": {
    "primary": "claude",
    "supported": ["claude"],
    "planned": ["openai"]
  },
  "repository": {
    "type": "documentation",
    "organization": "{{COMPANY_NAME}}"
  }
}
```

**Note:** NO metadata features yet - that's documented in future-features/

#### 2. `README.md` (Template Metacontent - What People See on GitHub)

```markdown
# AI-First Documentation Template

**Claude Ecosystem Template** - Minimal, production-ready documentation repository

## What This Template Provides

✅ Clean documentation structure
✅ MCP v3.0 compatible configuration
✅ Claude Skills integration ready
✅ Simple document templates
✅ Automatic initialization via GitHub Actions

## Prerequisites

- [github-repos-manager-mcp](https://github.com/cto4ai/github-repos-manager-mcp) (v3.0+)
- [github-docs-skill](https://github.com/cto4ai/claude-skills) from claude-skills repo
- GitHub account with repository access

## Quick Start

1. **Click "Use this template"** button above
2. **GitHub Actions automatically**:
   - Replaces template variables with your repo info
   - Creates `.mcp-config.json` from template
   - Swaps this README with your customized README
   - Creates setup issue with next steps
3. **Follow setup issue** to configure MCP and Skills
4. **Start documenting** with AI assistance

## What Happens on Initialization

- ✅ `.mcp-config.json` created with docroot = `docs`
- ✅ Template variables replaced ({{REPO_NAME}}, {{COMPANY_NAME}}, etc.)
- ✅ This README replaced with your repo's README
- ✅ Setup issue created with personalized instructions
- ✅ Init workflow self-deletes

## Ecosystem Support

**Current**: Claude (Claude Desktop + Claude Skills)
**Planned**: OpenAI support (future)

## What's NOT Included

This is a minimal template. No validation tooling, no build processes.
Trust AI + human review. Add your own tooling if needed.

## Future Features

See `.github/DOCUMENTATION/future-features/` for planned enhancements:
- AI metadata frontmatter
- Auto-summary generation
- Semantic markers
- Enhanced catalog integration

## Learn More

- [Setup Guide](.github/DOCUMENTATION/claude-ecosystem-setup.md)
- [AI-First Strategy](.github/DOCUMENTATION/ai-first-strategy.md)
- [Future Features](.github/DOCUMENTATION/future-features/)

## License

MIT
```

#### 3. `USER_README.md` (Generated Repo Content - Becomes README.md)

```markdown
# {{COMPANY_NAME}} Documentation

AI-first documentation repository for {{COMPANY_NAME}}.

## Setup Complete

This repository is configured with:
- ✅ MCP docroot: `docs/`
- ✅ Claude Ecosystem ready
- ✅ Skills integration configured

## Prerequisites Installed

**Required**:
- [github-repos-manager-mcp](https://github.com/cto4ai/github-repos-manager-mcp) v3.0+
- [github-docs-skill](https://github.com/cto4ai/claude-skills)

**Setup Instructions**: See [Claude Ecosystem Setup](.github/DOCUMENTATION/claude-ecosystem-setup.md)

## Quick Start with Claude

### Using Claude Desktop (with MCP)
```
You: "Get the catalog of documents in this repository"
Claude: [Uses MCP to show all files in docs/]

You: "Create a new remote work policy"
Claude: [Uses MCP to create and commit file]
```

### Using Claude.ai (with Skills)
```
You: "Use the github-docs-skill to list policies"
Claude: [Uses Skill to access GitHub API]
```

## Repository Structure

All documentation lives in `/docs`:

- `policies/` - Company policies and governance
- `procedures/` - Standard operating procedures and runbooks
- `guides/` - How-to documentation and tutorials
- `architecture/` - Technical documentation and system design
- `references/` - API docs, specifications, references
- `skills/` - Available Claude Skills documentation
- `cheatsheets/` - Quick reference guides
- `prompts/` - Reusable AI prompts
- `templates/` - Document templates

## Using Templates

See `docs/templates/` for basic document structures:
- `policy-template.md` - For company policies
- `procedure-template.md` - For SOPs and runbooks
- `guide-template.md` - For how-to guides

## Ecosystem

**Primary**: Claude (Claude Desktop + Claude.ai)
**Planned**: OpenAI support

## Future Features

This repository is ready for future AI metadata enhancements.
See `.github/DOCUMENTATION/future-features/` for planned features.

## Support

- **MCP Issues**: [github-repos-manager-mcp issues](https://github.com/cto4ai/github-repos-manager-mcp/issues)
- **Skills Issues**: [claude-skills issues](https://github.com/cto4ai/claude-skills/issues)
- **This Repository**: Create an issue

## License

MIT
```

#### 4. `docs/templates/policy-template.md` (Simple - NO Frontmatter)

```markdown
# [Policy Name]

## Purpose

[Why this policy exists - 2-3 sentences]

## Scope

This policy applies to:
- [Define who and what this applies to]

## Policy Statement

[Clear statement of the policy]

## Requirements

1. [Requirement 1]
2. [Requirement 2]
3. [Requirement 3]

## Procedures

[How this policy is implemented]

## Exceptions

[When exceptions may be granted and how]

## Related Documents

- [Link to related policy](../policies/related-policy.md)
- [Link to procedure](../procedures/related-procedure.md)

## Review and Updates

- **Owner**: [Team/Role]
- **Review Frequency**: [Quarterly/Annually]
- **Last Updated**: [Date]
- **Version**: 1.0.0

---

*This document was created using the policy template. Customize all sections as needed.*
```

**Note:** Similar simple templates for procedure and guide - just markdown structure, no fancy frontmatter.

#### 5. `.github/workflows/init-template.yml` (Updated - NO npm)

```yaml
name: Initialize Template

on:
  push:
    branches: [main]

jobs:
  initialize:
    if: github.repository != 'cto4ai/ai-first-docs'
    runs-on: ubuntu-latest
    permissions:
      contents: write
      issues: write

    steps:
      - uses: actions/checkout@v4

      - name: Personalize repository
        run: |
          REPO_NAME="${{ github.event.repository.name }}"
          GITHUB_ORG="${{ github.repository_owner }}"
          COMPANY_NAME="${{ github.repository_owner }}"
          DOCROOT="docs"
          ECOSYSTEM="claude"

          echo "Personalizing with: $COMPANY_NAME / $REPO_NAME"

          # Replace variables in all files
          find . -type f \( -name "*.md" -o -name "*.json" -o -name "*.template" \) \
            ! -path "./node_modules/*" ! -path "./.git/*" | while read file; do
            sed -i.bak \
              -e "s/{{REPO_NAME}}/$REPO_NAME/g" \
              -e "s/{{GITHUB_ORG}}/$GITHUB_ORG/g" \
              -e "s/{{COMPANY_NAME}}/$COMPANY_NAME/g" \
              -e "s/{{DOCROOT}}/$DOCROOT/g" \
              -e "s/{{ECOSYSTEM}}/$ECOSYSTEM/g" \
              "$file"
          done

          # Clean backup files
          find . -name "*.bak" -delete

          # Create from templates
          mv .mcp-config.json.template .mcp-config.json
          mv CLAUDE.md.template CLAUDE.md
          mv docs/skills/README.md.template docs/skills/README.md

          # Process .github/DOCUMENTATION templates
          for f in .github/DOCUMENTATION/*.template; do
            mv "$f" "${f%.template}"
          done

          # Swap READMEs
          rm README.md
          mv USER_README.md README.md

      - name: Create setup issue
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: '🚀 AI-First Documentation Repository Initialized',
              body: `## Welcome to your AI-first documentation repository!

              Your repository has been automatically configured.

              ### ✅ What's Ready
              - Documentation structure in \`docs/\`
              - MCP configuration with docroot = \`docs/\`
              - Simple document templates
              - Claude Ecosystem integration ready

              ### 📋 Next Steps

              **1. Install Prerequisites**
              - [ ] Install [github-repos-manager-mcp](https://github.com/cto4ai/github-repos-manager-mcp) v3.0+
              - [ ] Install [github-docs-skill](https://github.com/cto4ai/claude-skills)

              **2. Configure MCP**
              See [\`.github/DOCUMENTATION/claude-ecosystem-setup.md\`](.github/DOCUMENTATION/claude-ecosystem-setup.md)

              **3. Test Integration**
              \`\`\`
              You: "Get the catalog of documents in this repository"
              Claude: [Shows docs/ structure]
              \`\`\`

              **4. Start Documenting**
              - Use templates in \`docs/templates/\`
              - Work through AI (Claude Desktop or Claude.ai with Skills)
              - Or edit directly in GitHub

              ### 🔮 Future Features
              See [\`.github/DOCUMENTATION/future-features/\`](.github/DOCUMENTATION/future-features/) for planned enhancements like AI metadata frontmatter and auto-summary generation.

              Close this issue when setup is complete!`
            })

      - name: Commit changes
        run: |
          rm .github/workflows/init-template.yml

          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"

          git add -A
          git commit -m "Initialize from ai-first-docs template

          - Replace template variables
          - Create .mcp-config.json
          - Swap template README with repo README
          - Remove template workflow"

          git push
```

---

## PART 2: FUTURE FEATURES (Document Only, Don't Implement)

### A. Future Features Directory Structure

```
.github/DOCUMENTATION/future-features/
├── README.md                          # Index of all planned features
├── ai-metadata-frontmatter.md         # Complete YAML frontmatter spec
├── auto-summary-generation.md         # MCP v3.1+ feature concept
├── semantic-markers.md                # AI directive comments
└── metadata-catalog-integration.md    # Enhanced MCP catalog
```

### B. Future Features README.md (Index)

```markdown
# Future Features

This directory documents planned enhancements for AI-first documentation workflows.

**Status**: Documented concepts, not yet implemented

## Planned Features

### 1. AI Metadata Frontmatter
**File**: [ai-metadata-frontmatter.md](ai-metadata-frontmatter.md)
**Status**: Design phase
**Target**: v2.1 or v3.0

Full YAML frontmatter specification for AI-native document management:
- `ai_metadata` section with auto-summary
- `ai_instructions` for behavior guidance
- `ai_edit_constraints` for safety
- Schema versioning

### 2. Auto-Summary Generation
**File**: [auto-summary-generation.md](auto-summary-generation.md)
**Status**: Design phase
**Requires**: MCP v3.1+

Automatic document summarization:
- LLM-generated summaries on document push
- Updates frontmatter automatically
- Exposed via MCP catalog API

### 3. Semantic Markers
**File**: [semantic-markers.md](semantic-markers.md)
**Status**: Design phase
**Target**: v2.1

HTML comment-based AI directives:
- `<!-- AI-READONLY -->` - Never modify
- `<!-- AI-UPDATEABLE -->` - Safe to update
- `<!-- AI-CONTEXT -->` - Invisible guidance
- `<!-- AI-AUTO -->` - Auto-updated fields

### 4. Metadata Catalog Integration
**File**: [metadata-catalog-integration.md](metadata-catalog-integration.md)
**Status**: Design phase
**Requires**: MCP v3.1+

Enhanced `get_repository_catalog` with metadata:
- Document titles, summaries, status
- Filter/search by metadata
- Performance-optimized catalog responses

## Contributing Ideas

Have ideas for future features? Create an issue or add to these documents.

## Implementation Timeline

Features will be prioritized based on:
- MCP server capabilities (v3.1+ features)
- User feedback and demand
- Ecosystem evolution (Claude, OpenAI)
```

### C. Content for Each Future Feature Doc

Each document in `future-features/` should include:

1. **Overview** - What the feature does
2. **Motivation** - Why we need it
3. **Design** - How it would work
4. **Examples** - Code/config samples
5. **Dependencies** - What needs to exist first (e.g., MCP v3.1)
6. **Open Questions** - Unresolved design decisions
7. **Related Features** - Connections to other planned features

**Example outline for `ai-metadata-frontmatter.md`**:
- Complete YAML schema
- Field descriptions and types
- Validation rules
- Example documents with full frontmatter
- Evolution path (v1.0 → v2.0 schema)
- OpenAI ecosystem compatibility notes

---

## PART 3: Implementation Checklist

### Phase 1: Clean Current Repo
- [ ] Create `archive/v1-npm-validation` branch
- [ ] Delete all npm-related files from main
- [ ] Delete validation configs and workflows
- [ ] Delete old example content

### Phase 2: Create v2.0 Structure
- [ ] Create new directory structure with .gitkeep files
- [ ] Add `docs/skills/` folder
- [ ] Create `.github/DOCUMENTATION/future-features/` folder

### Phase 3: Core Files
- [ ] Write `README.md` (template metacontent)
- [ ] Write `USER_README.md` (generated repo content)
- [ ] Create `.mcp-config.json.template` (basic, no metadata)
- [ ] Create `CLAUDE.md.template`
- [ ] Update `LICENSE.md` and `.gitignore`

### Phase 4: Simple Templates
- [ ] Write `docs/templates/README.md`
- [ ] Create `policy-template.md` (simple markdown, NO frontmatter)
- [ ] Create `procedure-template.md` (simple markdown)
- [ ] Create `guide-template.md` (simple markdown)

### Phase 5: Documentation
- [ ] Write `claude-ecosystem-setup.md.template`
- [ ] Update `ai-first-strategy.md.template` (current state, not planning)
- [ ] Create `docs/skills/README.md.template`

### Phase 6: Future Features Docs
- [ ] Write `future-features/README.md` (index)
- [ ] Document `ai-metadata-frontmatter.md` (full spec)
- [ ] Document `auto-summary-generation.md`
- [ ] Document `semantic-markers.md`
- [ ] Document `metadata-catalog-integration.md`

### Phase 7: GitHub Actions
- [ ] Update `.github/workflows/init-template.yml` (remove npm steps)
- [ ] Test template creation locally
- [ ] Verify variable replacement works
- [ ] Verify setup issue creation

### Phase 8: Final Verification
- [ ] Use template to create test repo
- [ ] Verify all files created correctly
- [ ] Verify no .template files remain
- [ ] Verify README swap worked
- [ ] Test MCP integration (if available)

---

## Success Criteria

✅ Template is minimal and production-ready
✅ No npm dependencies or validation tooling
✅ Clear separation: template metacontent vs generated repo content
✅ Automatic initialization works via GitHub Actions
✅ MCP v3.0 compatible (.mcp-config.json with docroot)
✅ Simple document templates (no frontmatter complexity)
✅ Future features thoroughly documented but NOT implemented
✅ Claude Ecosystem primary, OpenAI marked as planned
✅ Clean, understandable structure for both template viewers and repo users

---

## Notes

- This plan separates v2.0 implementation (minimal, ready now) from future features (documented, not implemented)
- All AI metadata/frontmatter work is deferred to future-features/ documentation
- Template maintains proven pattern: README.md (template) vs USER_README.md (generated)
- GitHub Actions workflow handles automatic initialization
- No npm means faster setup, less complexity, easier maintenance
